<script src="experiment-setup.component.ts"></script>
<div class="experiment-setup-container">
  <div class="printhead-container">
    <app-printhead-setup [selectedPlate]="selectedPlate"></app-printhead-setup>
  </div>
  <div class="plate-map-container">
    <mat-card>
      <mat-card-header [ngStyle]="experimentSetupHeaderStyle"
                       class="experiment-setup-header">
        <div class="header-content">
          <div class="title-container">
            <mat-card-title>Cell Culture Plate Map</mat-card-title>
          </div>
        </div>
      </mat-card-header>
      <mat-card-content>
        <div class="inputs-container flex-container" style="background-color: lightpink;">
          <div class="flex-item plate-input">
            <mat-form-field appearance="fill" subscriptSizing="dynamic" class="plate-format-select-wrapper">
              <mat-label for="plateFormat">Select a plate format</mat-label>
              <mat-select id="plateFormat" [value]="selectedPlate" (selectionChange)="onSelectedPlateChanged($event)"
                          class="plate-format-select">
                <mat-option *ngFor="let plate of plateFormats" [value]="plate">
                  {{ plate.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="flex-item plate-origin-input">
            <mat-form-field appearance="fill" subscriptSizing="dynamic" class="plate-format-select-wrapper">
              <mat-label for="plateOrigin">Coordinate plane origin is</mat-label>
              <mat-select id="plateOrigin" [value]="selectedPlateOrigin"
                          (selectionChange)="onSelectedPlateOriginChanged($event)" class="plate-format-select">
                <mat-option *ngFor="let origin of plateFormatService.plateOrigins" [value]="origin.value">
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <app-plate-map [selectedPlate]="selectedPlate"
          [plateHeightPX]="plateHeightPX"
          [plateWidthPX]="plateWidthPX"
          [selectedPlateOrigin]="selectedPlateOrigin"
          ></app-plate-map>
        </div>
      </mat-card-content>
      <mat-card-footer style="background-color: rgba(0,0,0,0);">
        <!--    <button mat-flat-button (click)="openExportGcodeForm()">Generate Gcode</button>-->
      </mat-card-footer>
    </mat-card>
  </div>
</div>
